<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title> Search Bar </title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
</head>

<!-- <body>
    <center>
        <input id="file-input" type="file"/>
    </center>

</body> -->

<body>
    <div id="root"></div>

    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel">
        class Element extends React.Component{
         
            state = {file: ""};
            
            changeState = (object) => {
                console.log(this);
             // this.setState(object);

            };

            handleFile = (event) => {
    
                var fileInput = event.target;

              //  console.log(fileInput.files);
                
                var reader = new FileReader();

                reader.readAsText(fileInput.files[0]);
                
                reader.onload = (event) => {
            //   console.log(event.target);
            //   console.log(reader.readyState);
            //   return changeState(object);
                this.setState({file:reader});
                 };  

            }


            handleKeyPress = (event) => {
               
                var textInput = event.target;

                if(event.key == "Enter"){
                
                var word = textInput.value;
                console.log(this.state);
                 var content = this.state.file.result;
                // console.log(this.state);
                 if(content.indexOf(word) != -1 && word != "") {
                    console.log("it's here!");
                } else {
                    console.log("not here");
                } 
                
                }
            }


            render(){   
                 
            return (
                <center>
                   <input id="file-input" type="file" onChange={this.handleFile}/>
                   <input id="searchBar" type="input" onKeyPress={this.handleKeyPress} />
                 </center>
            )
    
            }
        }
         const element = <Element />
         ReactDOM.render(
            element,
            document.getElementById('root')
        );
        </script>
</body>

</html>